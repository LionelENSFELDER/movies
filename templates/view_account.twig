{% extends 'default.twig' %}

{% block body %}

	<section class="vh-100 row h-100">
		<div class="col-sm-12 my-5">
			{# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! #}
			<div class="card mb-3 mx-auto p-5 rounded shadow" style="width: 45rem;">
				<div class="row no-gutters">
					<div class="col-md-4">
					<img src="{{ account_pic }}" class="card-img" alt="...">
					</div>
					<div class="col-md-8">
					<div class="card-body py-0">
						<h3>Hello {{ account_name }}</h3>
						<div class="row">
							<button class="btn" name="" data-toggle="modal" data-target="#change-username-modal"><i class="far fa-edit mr-2"></i>{{ account_name }}</button>
							<button class="btn" name="" data-toggle="modal" data-target="#change-username-modal"><i class="far fa-trash-alt mr-2"></i>{{ account_password }}</button>
						</div>
						<button type="button" class="btn btn-outline-success" data-toggle="modal" data-target="#change-username-modal">Change account name</button>
						<button type="button" class="btn btn-outline-success" data-toggle="modal" data-target="#change-username-modal">Change account password</button>
						<p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
					</div>
					</div>
				</div>
			</div>
			{# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! #}
			<div class="card mb-3 mx-auto p-5 rounded shadow" style="width: 45rem;">
				<div>
					<h1>Hello {{ account_name }}</h1>
					<span>Your ID: {{ account_id }}</span>
					<div class="d-flex flex-row justify-content-center">
						<img src="{{ account_pic }}" alt="..." class="mx-auto" style="width:30%;">
					</div>
					<form method="POST" action="view_account.php" enctype="multipart/form-data">
						<input type="hidden" name="account_id" class="form-control" value="{{ account_id }}">
						<input type="hidden"  name="account_name" class="form-control" value="{{ account_name }}">
						<label for="new-account-pic">Account pic<span class="text-danger">(.jpg only)<span></label>
						<input type="file" class="form-control-file" id="new-account-pic" name="new-account-pic" accept="image/*">
						<div class="mt-3">
							<button type="submit" class="btn btn-outline-info" href="" name="update-pic">Update poster</button>
						</div>
					</form>

					<div class="form-group">
						<label for="username">Account name</label>
						<input type="text" class="form-control" name="account-name" placeholder="{{ account_name }}" readonly>
						<a class="btn btn-link" href="" data-toggle="modal" data-target="#change-username-modal">Change your account name</a>
					</div>

					<div class="form-group">
						<label for="">Password</label>
						<input type="password" class="form-control" placeholder="*******" readonly>
						<a class="btn btn-link" href="" data-toggle="modal" data-target="#change-password-modal">Change your password</a>
					</div>

					<div class="mt-3">
						<a name="delete" class="btn btn-outline-info" href="delete_account.php">Delete</a>
					</div>
				</div>
			</div>
			{# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! #}
		</div>
	</section>

	<!-- Modal Change your account name -->
	<div class="modal fade" id="change-username-modal" tabindex="-1" role="dialog" aria-labelledby="change-username-modal"
		aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="change-username-modal">Change your account name</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form method="POST" action="view_account.php">
						<div class="form-group">
							<label for="new-account-name">New account name</label>
							<input type="text" class="form-control" name="new-account-name" placeholder="Your new account name">
						</div>

						<div class="form-group">
							<label for="password">Current password</label>
							<input type="password" class="form-control" name="current-password" placeholder="*******">
						</div>

						<div class="mt-3">
							<button type="submit" class="btn btn-outline-warning" href="" name="change-username">Submit</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal Change your password -->
	<div class="modal fade" id="change-password-modal" tabindex="-1" role="dialog" aria-labelledby="change-password-modal"
		aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="change-password-modal">Change your password</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form method="POST" action="view_account.php">
						<div class="form-group">
							<label for="password">Current password</label>
							<input type="password" class="form-control" name="current-password" placeholder="*******">
						</div>

						<div class="form-group">
							<label for="password">New password</label>
							<input type="password" class="form-control" name="new-password" placeholder="*******">
						</div>

						<div class="form-group">
							<label for="password">Repeat new password</label>
							<input type="password" class="form-control" name="new-password-repeated" placeholder="*******">
						</div>

						<div class="mt-3">
							<button type="submit" class="btn btn-outline-warning" href="" name="change-password">Submit</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

{% endblock %}